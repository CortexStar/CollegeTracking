4  landing.tsx: single refactor
tsx
Copy
Edit
// src/pages/landing.tsx
return (
  // ① This <main> is already flex‑1 (from Layout). We only need our
  //    container to *grow* inside it, not a fixed h‑full that resolves to 0.
  <ContextMenu>
    {/* ② Tell Radix to treat the child as *the* trigger element   */}
    <ContextMenuTrigger asChild>
      {/* ③ Grow to fill the space & own the background  */}
      <div
        className={
          "relative flex flex-1 items-center justify-center " +
          // Tailwind utilities for the static part of the bg
          "bg-cover bg-center"
        }
        style={
          backgroundImage
            ? { backgroundImage: `url(${backgroundImage})` }
            : {}
        }
        // ➜ Drag‑n‑drop + click handlers stay
        onDragEnter={handleDragEnter}
        onDragOver={handleDragOver}
        onDragLeave={handleDragLeave}
        onDrop={handleDrop}
        onClick={() => !backgroundImage && fileInputRef.current?.click()}
      >
        {/* drop zone and any children */}
      </div>
    </ContextMenuTrigger>

    <ContextMenuContent>
      <ContextMenuItem onSelect={() => fileInputRef.current?.click()}>
        Upload image
      </ContextMenuItem>

      {backgroundImage && (
        <ContextMenuItem
          onSelect={() => {
            setBackgroundImage(null);
            localStorage.removeItem("backgroundImage");
            toast({ title: "Success", description: "Image removed" });
          }}
        >
          Remove image
        </ContextMenuItem>
      )}
    </ContextMenuContent>
  </ContextMenu>
);
What changed?
flex-1 instead of h-full
The div now grows inside the flex column handed to it by Layout, so it always has real height.

asChild on ContextMenuTrigger
Radix now wires its context‑menu events directly onto your div (no extra DOM node).

Removed your own onContextMenu
Radix handles it; duplicate listeners are no longer fighting.

Tailwind classes bg-cover bg-center
These replace the inline backgroundSize / backgroundPosition so the style object only has the dynamic URL.

5  Outcome
Landing page still cannot scroll.

Footer is visible and fixed at the bottom.

Background image once again fills the whole hero area.

Custom right‑click menu is back to full functionality.

That’s all—three tiny edits and you’re good. Let me know if anything else pops up!